# Red Hat Ceph Storage 硬件选择建议

## 摘要

### 服务器选择

#### 通用服务器

#### 存储服务器

### 存储目标

#### IOPS优化类型：高IOPS

#### 吞吐优化类型：高吞吐

#### 容量优化类型：高容量

## 通用原则

### 用例：如何用，怎么用

#### IOPS优化类型：高IOPS，跑MYSQL数据库，需要15k SAS盘及SSD做journal，有些高IOPS的场合可以考虑使用全闪存配置

#### 吞吐优化类型：高吞吐，提供图像，音频及视频数据，具体怎么配具体再看

#### 容量优化类型：高容量，容量型对价格敏感，所以通常不会选择高速硬盘，高带宽网卡，SSD及闪存，由于不再使用SSD做日志，数据及日志共存在硬盘上

### 存储密度

#### 硬件规划时会考虑集群规模，存储节点数量，每个节点数据盘数量及大小，存储模式及副本数量

#### 当节点硬件发生故障，这个节点上的数据会在其他节点上恢复。恢复时会通过网络复制数据，一个常见问题是小规模集群配置了非常多的数据盘，当节点发生故障时需要拷贝过多的数据，这些数据的拷贝对网络造成非常大的压力，结果影响了正常的数据访问；如果限制恢复时的数据复制对带宽的占用又会造成数据复制在很长时间内无法完成，集群无法尽快恢复到健康状态

### 相同硬件配置原则：尽可能缩小硬件配置差异性

#### 相同的磁盘控制器

#### 相同的磁盘大小

#### 相同的磁盘转速

#### 相同的机械磁盘寻道时间

#### 相同的I/O读写能力

#### 相同的网络吞吐

#### 相同的日志配置方法

### 网络带宽配置建议

### 避免使用RAID

### 选择硬件时的常见错误

### 其他可供参考的资源



## 根据负载类型进行有针对性的性能优化

## 服务器及机架

## 最小配置建议

## 容器化后的最小配置建议

## Red Hat Ceph Dashboard管理UI的最小配置建议

